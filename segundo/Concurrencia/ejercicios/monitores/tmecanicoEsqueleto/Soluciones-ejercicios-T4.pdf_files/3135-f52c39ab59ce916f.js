(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3135],{75904:function(e,n,o){"use strict";o.d(n,{S:function(){return useFreeDownload}});var t=o(31171),d=o(5632),a=o(62202),i=o(82066),r=o(85783),s=o(12825),l=o(69539),u=o(77620),c=o(44926),m=o(5261),p=o(34760),v=o(90906),w=o(69591),y=o(79830),h=o(18714),x=o(9767),f=o(45375);let generateVoucherPDFAds=async e=>{try{let n=await (0,s._i)("/pub/creative".concat(e));return n}catch(e){return null}};var g=o(75121),_=o(17511),D=o(88694),S=o(28381),I=o(15757),b=o(24732),C=o(12401);let downloadFile=async e=>{let{toastId:n,url:o,document:t}=e,d={url:o,name:(0,I.U)({name:t.name,premium:!1,mimeType:t.extension.original})};await (0,S.j)(d),(0,f.F9)({id:n,name:t.name,extension:t.extension})},useBaseFreeDownload=()=>{let e=(0,C.Ng)(),{askCaptcha:n}=(0,b.d)(),handleSuccess=async(e,n)=>{let{url:o}=e,{document:t,onDownloadDone:d}=n;await downloadFile({toastId:"download-".concat(t.id),url:o,document:t}),d&&d()},handleCaptcha=async o=>{try{let t=await n();await e.mutateAsync({...o,captchaToken:t},{onSuccess:handleSuccess})}catch(e){(0,f.e5)({id:"download-".concat(o.document.id),name:o.document.name,error:e instanceof D.S?e.key:"",extension:o.document.extension})}};return(0,i.useMutation)(e.mutateAsync,{onSuccess:handleSuccess,onError:async(e,n)=>{e&&(e.key===C.uf.captchaCounter?handleCaptcha(n):a.ZP.dismiss("download-".concat(n.document.id)))}})};var P=o(74074);let qrDescriptionKeyByStudyId=(e,n,o)=>e?[1,5].includes(e)&&n||[2,3,4,6].includes(e)&&o?"document.download-qr-description":"document.download-qr-description-without-shortname":null,useFreeDownload=()=>{var e,n,o,D,S,I,b,C,j,T,E,A,k,N,V,F;let B;let L=useBaseFreeDownload(),{askAuth:O}=(0,c.S)(),{data:M}=(0,m.Pi)(),{data:q}=(0,l.Oj)(),{isUsingAdBlock:R}=(0,y.h)(),U=(0,h._)(),W=(0,r.Nn)(),{sendWuoladsEvents:H}=(0,w.s)(),G={segCenterId:String(null==q?void 0:q.centerId),segCommunityId:String(null==q?void 0:q.communityId),segCourse:String(null==q?void 0:q.course),segStudyId:String(null==q?void 0:q.studyId),segSubjectId:String(null==q?void 0:q.subjectId),segUserId:String(null==M?void 0:M.id),segUserTargetingsSnapshotId:null===(e=W.data)||void 0===e?void 0:e.snapshotId,segMachineId:U},{t:z}=(0,t.qM)(),{query:X}=(0,d.useRouter)(),{data:Z}=(0,u.Jk)({params:{slug:null==q?void 0:null===(n=q.community)||void 0===n?void 0:n.slug}}),K=qrDescriptionKeyByStudyId(null==Z?void 0:null===(D=Z.segmentations)||void 0===D?void 0:null===(o=D.studyType)||void 0===o?void 0:o.id,null==Z?void 0:null===(b=Z.segmentations)||void 0===b?void 0:null===(I=b.university)||void 0===I?void 0:null===(S=I.item)||void 0===S?void 0:S.shortName,null==Z?void 0:null===(j=Z.segmentations.study)||void 0===j?void 0:null===(C=j.item)||void 0===C?void 0:C.shortName);K&&(null==q?void 0:null===(T=q.subject)||void 0===T?void 0:T.name)&&(B={qrUrl:"".concat("https://wuolah.com").concat((0,x.y)({subjectSlug:null==q?void 0:null===(A=q.subject)||void 0===A?void 0:A.slug},{communityId:null==q?void 0:q.communityId,f_course:null==q?void 0:q.course,f_study:(null==Z?void 0:null===(k=Z.metadata)||void 0===k?void 0:k.pfIsStudyGrouping)?null==q?void 0:q.studyId:void 0,f_community:(null==Z?void 0:null===(N=Z.metadata)||void 0===N?void 0:N.pfIsStudyGrouping)?void 0:null==q?void 0:q.communityId})),qrTitle:null==q?void 0:null===(V=q.subject)||void 0===V?void 0:V.name,qrDescription:z(K)});let J=null!==(F=null===(E=X.referral)||void 0===E?void 0:E.toString())&&void 0!==F?F:"";return(0,i.useMutation)(async e=>{let{isAuth:n}=O();if(!n)return Promise.reject();(0,f.EX)({id:"download-".concat(e.document.id),name:e.document.name,extension:e.document.extension});var o,t,d={ads:[]};let i=e.document.numPages<100&&"pdf"===e.document.extension.wuolah;if(i&&!e.voucher){let n=await (0,_.B)(e.document,[p.Vs.A_PDF_DOWNLOAD,p.Vs.A_PDF_DOWNLOAD_TITLEPAGE,p.Vs.A_PDF_DOWNLOAD_EXCLUSIVE]),a=null==n?void 0:n.items.find(e=>e.creativeType===p.wt.PDF_EXCLUSIVE);if(n&&a){try{let n=Date.now()>new Date(2024,3,1,0,0,0,0).getTime()?"cochesnet-pdf-exclusive-1apr-30apr":"msi-pdf-exclusive-12feb-31mar",i=await (0,s._i)("/v2/me/user-stat?date=".concat(Date.now(),"&statName=in-promo-downloads-made-by-user&period=1MONTH&dimensionType=promo-name&dimensionId=").concat(n));if(!(null==i?void 0:null===(t=i.item)||void 0===t?void 0:null===(o=t.metrics)||void 0===o?void 0:o.sum)){d.adblockDetected=R,d.blocked=R,d.ads=[a.payload.titlePage,a.payload.a4,a.payload.frame,a.payload.footer];try{let e=((null==a?void 0:a.pixels)||[]).filter(e=>!!e),callToPixels=async()=>{let n=await (0,P.T)(e);await Promise.all(n.map(e=>fetch(e)))};await callToPixels()}catch(e){}return H(d.ads.map(e=>1===e.sponsored?{category:v.QY.PDF,requestId:e.requestId,scope:v.F.WUOLADS,name:"impression",...G,adAdvertiserId:String(e.advertiserId),adCampaignId:String(e.orderId),adCreativeId:String(e.creativeId),adSetId:String(e.lineItemId),adUnitId:"pdf_download_ubi_"+e.ubication,adCreativeType:e.creativeType}:{requestId:String(Date.now()),category:v.QY.PDF,scope:v.F.GAM,name:"impression",...G,adCampaignId:String(e.orderId),adCreativeId:String(e.creativeId),adSetId:String(e.lineItemId),adUnitId:"pdf_download_ubi_"+e.ubication})),L.mutateAsync({...e,body:d,qrData:B,avoidFallback:!0,referralCode:J})}}catch(e){}n.items=n.items.filter(e=>e.creativeType!==p.wt.PDF_EXCLUSIVE)}let i=e.document.numPages;(d=await (0,g.EH)(i,n)).blocked=R,Array.isArray(d.ads)&&n?n.items.map(e=>{d.ads.unshift(e.payload)}):d.ads&&n&&(d.ads=n.items.map(e=>e.payload)),H(d.ads.map(e=>1===e.sponsored?{requestId:e.requestId,category:v.QY.PDF,scope:v.F.WUOLADS,name:"impression",...G,adAdvertiserId:String(e.advertiserId),adCampaignId:String(e.orderId),adCreativeId:String(e.creativeId),adSetId:String(e.lineItemId),adUnitId:"pdf_download_ubi_"+e.ubication,adCreativeType:e.creativeType}:{requestId:String(Date.now()),category:v.QY.PDF,scope:v.F.GAM,name:"impression",...G,adCampaignId:String(e.orderId),adCreativeId:String(e.creativeId),adSetId:String(e.lineItemId),adUnitId:"pdf_download_ubi_"+e.ubication}))}if(e.voucher){let n=await generateVoucherPDFAds(e.voucher);if(!n)return a.Am.dismiss("download-".concat(e.document.id)),(0,f.e5)({error:"Error al descargar",name:e.document.name,extension:e.document.extension}),null;n.map(e=>{d.ads.push(e)}),d.avoidFallback=!0}return d.adblockDetected=R,L.mutateAsync({...e,body:d,qrData:B,referralCode:J})})}},71149:function(e,n,o){"use strict";o.d(n,{iJ:function(){return useDownload},uf:function(){return v}});var t=o(31171),d=o(66946),a=o(82066),i=o(85783),r=o(12825),s=o(92278),l=o(26021),u=o(18714),c=o(60489),m=o(54645),p=o(56732);let v={captchaCounter:"FI008",noCoins:"DOC004",downloadLimit:"FI042",emailNotConfirmed:"DOC005"},documentDownloadV3=async e=>{let{document:n,withCoins:o=!1,captchaToken:t,referralCode:d,noAdsToken:a,machineId:i,userTargetingsSnapshotId:s}=e;return await (0,r._i)("/v2/download",{method:"post",body:JSON.stringify({machineId:i,userTargetingsSnapshotId:s,adblockDetected:!1,fileId:n.id,captchaCode:t,noAdsWithCoins:o,noAdsToken:a,ads:[],ubication1ExpectedPubs:0,ubication2ExpectedPubs:0,ubication3ExpectedPubs:0,ubication17ExpectedPubs:0,ubication1RequestedPubs:0,ubication2RequestedPubs:0,ubication3RequestedPubs:0,ubication17RequestedPubs:0,referralCode:d,qrData:null})})},useDownload=()=>{let{t:e}=(0,t.qM)(),n=(0,a.useQueryClient)(),o=(0,u._)(),r=(0,i.Nn)();return(0,a.useMutation)(e=>{var n;return documentDownloadV3({...e,machineId:o,userTargetingsSnapshotId:null==r?void 0:null===(n=r.data)||void 0===n?void 0:n.snapshotId})},{onError:async n=>{switch(n.key){case v.noCoins:c.bM.onOpen();break;case v.downloadLimit:case v.emailNotConfirmed:l.A.isActive(n.key)||(0,l.A)({id:n.key,title:"Error",description:e(n.key),status:"error",duration:null});break;default:(0,l.A)({id:n.key,title:"Error",description:e(n.key),status:"error",duration:5e3})}},onSuccess:async(e,o)=>{let{document:t}=o;await (0,p.gU)({queryClient:n,updater:(0,p.uM)({documentId:t.id,increment:1})}),(0,m.N)({queryClient:n,promotionType:d.jT.DOWNLOAD_PREMIUM_DOCS}),s.m.track("custom_on_premium_file_downloaded",{fileId:t.id,uploadName:t.name,uploadId:t.uploadId,communityId:t.communityId,creatorId:t.userId})}})}},22487:function(e,n,o){"use strict";o.d(n,{D:function(){return useProDownload}});var t=o(5632),d=o(2784),a=o(62202),i=o(82066),r=o(88694),s=o(44926),l=o(94853),u=o(28381),c=o(15757),m=o(24732),p=o(45375),v=o(71149);let downloadFile=async e=>{let{toastId:n,url:o,document:t}=e,d={url:o,name:(0,c.U)({name:t.name,premium:!0,mimeType:t.extension.original})};await (0,u.j)(d),(0,p.F9)({id:n,name:t.name,extension:t.extension})},useProDownload=()=>{var e,n;let o=(0,v.iJ)(),{askAuth:u}=(0,s.S)(),{askEmailConfirm:c}=(0,l._)(),{askCaptcha:w}=(0,m.d)(),y=(0,d.useId)(),{query:h}=(0,t.useRouter)(),x=null!==(n=null===(e=h.referral)||void 0===e?void 0:e.toString())&&void 0!==n?n:"",handleSuccess=async(e,n)=>{let{url:o}=e,{document:t,onDownloadDone:d}=n;await downloadFile({toastId:y,url:o,document:t}),d&&d()},handleCaptcha=async e=>{try{let n=await w();await o.mutateAsync({...e,captchaToken:n},{onSuccess:handleSuccess})}catch(n){(0,p.e5)({id:y,name:e.document.name,error:n instanceof r.S?n.key:"",extension:e.document.extension})}};return(0,i.useMutation)(async e=>{let{isAuth:n}=u();if(!n)return Promise.reject();let{isConfirmed:t}=c();return t?((0,p.EX)({id:y,name:e.document.name,extension:e.document.extension}),o.mutateAsync({...e,referralCode:x})):Promise.reject()},{onSuccess:handleSuccess,onError:async(e,n)=>{e&&(e.key===v.uf.captchaCounter?handleCaptcha(n):a.ZP.dismiss(y))}})}},94853:function(e,n,o){"use strict";o.d(n,{_:function(){return useAskEmailConfirm}});var t=o(2784),d=o(60489),a=o(5261);let useAskEmailConfirm=()=>{let{data:e}=(0,a.Pi)(),n=(0,t.useCallback)(()=>{let n=!!e&&e.hasEmailVerified;return n||d.es.onOpen(),{isConfirmed:n}},[e]);return{askEmailConfirm:n}}},45375:function(e,n,o){"use strict";o.d(n,{EX:function(){return downloadingDocumentToast},F9:function(){return downloadedDocumentToast},e5:function(){return errorDownloadingDocumentToast}});var t=o(52322),d=o(31171),a=o(62202),i=o(8283),r=o(71354),s=o(66724),l=o(18751),u=o(72360),c=o(16844),m=o(61720);function Document(e){let{title:n,subtitle:o,extension:d}=e;return(0,t.jsxs)(i.U,{w:"full",children:[(0,t.jsx)(m.$,{extension:d}),(0,t.jsxs)(r.K,{w:"full",spacing:"0",children:[(0,t.jsx)(s.C,{noOfLines:1,wordBreak:"break-all",children:n}),(0,t.jsx)(l.X,{noOfLines:1,wordBreak:"break-all",children:o})]})]})}let downloadingDocumentToast=e=>{let{name:n,extension:o,...i}=e;return a.ZP.custom(e=>(0,t.jsx)(u.b,{status:"info",w:"320px",children:(0,t.jsxs)(r.K,{w:"full",children:[(0,t.jsx)(Document,{title:n,subtitle:(0,t.jsx)(d.T,{keyName:"document-downloading-toast"}),extension:o}),(0,t.jsx)(c.E,{isIndeterminate:!0,hasStripe:!0,isAnimated:!0})]})}),{position:"bottom-right",duration:1/0,...i})},downloadedDocumentToast=e=>{let{name:n,extension:o,...i}=e;return a.ZP.custom(e=>(0,t.jsx)(u.b,{status:"success",w:"320px",children:(0,t.jsx)(Document,{title:n,subtitle:(0,t.jsx)(d.T,{keyName:"document-downloaded-toast"}),extension:o})}),{position:"bottom-right",duration:2e3,...i})},errorDownloadingDocumentToast=e=>{let{name:n,error:o,extension:i,...r}=e;return a.ZP.custom(e=>(0,t.jsx)(u.b,{status:"error",w:"320px",children:(0,t.jsx)(Document,{title:n,subtitle:(0,t.jsx)(d.T,{keyName:o}),extension:i})}),{position:"bottom-right",duration:3e3,...r})}},17395:function(e,n,o){"use strict";o.d(n,{G:function(){return useVideoPreDownloadModal}});var t=o(52322),d=o(34338),a=o(15077),i=o(85783),r=o(73202),s=o(6562),l=o(2784),u=o(75904);let useCloseVideoPreDownload=e=>{let{document:n,onClose:o}=e,{mutate:t}=(0,u.S)(),[d,a]=(0,l.useState)(!1),[i,r]=(0,l.useState)(!1),[s,c]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=setTimeout(()=>{a(!0)},3e4);return()=>clearTimeout(e)},[]),(0,l.useEffect)(()=>{(i&&d||s)&&t({document:n,onDownloadDone:()=>{o()},onDownloadError:()=>{o()}})},[i,d,s,t]),{setIsClosableByAdEnded:r,setIsClosabledByStepsEnded:c}};var c=o(5389),m=o(56915),p=o(82962),v=o(31171),w=o(77447),y=o(19519),h=o(79830),x=o(43397),f=o(37287),g=o(2167),_=o(8283),D=o(91012),S=o(11919),I=o(53738),b=o(52742);let VideoPreDownloadBody=e=>{let{onAdClose:n}=e,{t:o}=(0,v.qM)(),{isUsingAdBlock:d}=(0,h.h)(),{adManager:a,ima:i,adsLoader:r}=(0,s._)();return i&&r&&r.addEventListener(i.AdErrorEvent.Type.AD_ERROR,e=>{n()}),a&&i&&(a.addEventListener(i.AdErrorEvent.Type.AD_ERROR,e=>{n()}),a.addEventListener(i.AdEvent.Type.SKIPPED,()=>{n()}),a.addEventListener(i.AdEvent.Type.COMPLETE,()=>{n()})),(0,t.jsxs)(g.f,{padding:"8px 0 0",children:[(0,t.jsxs)(_.U,{spacing:"4px",paddingLeft:"24px",color:"#A5A5A5",marginBottom:"4px",children:[(0,t.jsx)(b.if7,{size:"14px"}),(0,t.jsx)(D.x,{fontSize:"10px",lineHeight:"16px",fontWeight:"500",children:o("video-ads-download-modal-info")})]}),(0,t.jsx)(S.k,{justifyContent:"center",background:"gray.200",width:"100%",height:{base:"216px",md:"352px"},children:d?(0,t.jsx)(x.G,{onContinue:n,location:"download limit modal"}):(0,t.jsx)(f.n,{id:"position_video_predownload","data-testid":"video-pre-download"})}),(0,t.jsx)(I.xu,{width:"full",backgroundColor:"#fff6e5",borderBottomRadius:"lg",paddingTop:d?"0":"24px",children:(0,t.jsx)(w.T,{onClick:()=>{a&&(null==a||a.pause())},onCheckoutClose:()=>{a&&(null==a||a.resume())},onCheckoutCloseAfterSuccess:()=>{n()},eventProps:{listName:y.H.PRE_DOWNLOAD,component:"VideoPreDownloadModal"}})})]})};var C=o(92619),P=o(10997),j=o.n(P);let VideoPreDownloadHeader=()=>{let{t:e}=(0,v.qM)(),{adManager:n}=(0,s._)(),[o,d]=(0,l.useState)();return(0,l.useEffect)(()=>{if(n){if(30>Math.round(n.getRemainingTime())){let e=setInterval(()=>{d(e=>"number"==typeof e?e>0?e-1:0:30)},1e3);return()=>clearInterval(e)}let e=setInterval(()=>{n&&d(Math.round(n.getRemainingTime()))},300);return()=>clearInterval(e)}},[n]),(0,t.jsx)(C.x,{className:j().headerContainer,"data-testid":"time-remaining",children:o?(0,t.jsx)(v.T,{keyName:"video-ads-modal.loading-download",params:{time:o}}):e("video-ads-download-modal-loading-ad")})},VideoPreDownloadContent=e=>{let{onAdClose:n}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(VideoPreDownloadHeader,{}),(0,t.jsx)(VideoPreDownloadBody,{onAdClose:n})]})},getNewVideoAd=e=>{let{adManager:n,videoRef:o,ima:t,display:d,adsRequest:a,adsLoader:i}=e;if(!n||!(null==o?void 0:o.current)||!t||!d||!a)return;null==i||i.requestAds(a);let r=o.current.clientWidth,s=o.current.clientHeight;o.current.load(),d.initialize();try{n.init(r,s,t.ViewMode.NORMAL),n.start()}catch(e){}};var T=o(20092),E=o(59519),A=o(40043),k=o.n(A);let VideoPreDownloadByStepsBody=e=>{let{handleAllowNexStep:n}=e,{t:o}=(0,v.qM)(),{isUsingAdBlock:d}=(0,h.h)(),{adManager:a,ima:i}=(0,s._)();return a&&i&&(a.addEventListener(i.AdErrorEvent.Type.AD_ERROR,e=>{n(!0)}),a.addEventListener(i.AdEvent.Type.SKIPPED,()=>{n(!0)}),a.addEventListener(i.AdEvent.Type.COMPLETE,()=>{n(!0)})),(0,t.jsx)(g.f,{padding:"0",children:(0,t.jsxs)("div",{className:k().bodyContainer,children:[(0,t.jsxs)("div",{className:k().upgradeTurboContainer,children:[(0,t.jsx)("span",{className:"material-symbols-outlined ".concat(k().upgradeTurboIcon),children:"campaign"}),(0,t.jsx)("p",{className:k().upgradeTurboText,children:"Plan Turbo - "}),(0,t.jsx)("a",{className:k().upgradeTurboLink,href:(0,E.m)(),target:"blank",children:o("upgrade-my-plan")})]}),(0,t.jsxs)("div",{className:k().videoContainer,children:[d&&(0,t.jsx)(x.G,{onContinue:()=>n(!0),location:"download limit modal"}),(0,t.jsx)(f.n,{id:"position_video_predownload","data-testid":"video-pre-download",isBySteps:!0})]}),(0,t.jsxs)("div",{className:k().infoContainer,children:[(0,t.jsx)("span",{className:"material-symbols-outlined ".concat(k().infoIcon),children:"info"}),(0,t.jsx)("p",{className:k().infoText,children:o("predownload-modal.info")})]})]})})};var N=o(8757),V=o(17651),F=o(80353);let VideoPreDownloadByStepsFooter=e=>{let{adStep:n,totalSteps:o,onNextStep:d,allowNextStep:a}=e,{t:i}=(0,v.qM)();return(0,t.jsxs)(F.m,{className:k().footerContainer,children:[(0,t.jsx)(N.g,{variant:"text",onClick:()=>window.open("".concat("https://wuolah.com").concat((0,E.m)({tab:"turbo"})),"_blank"),children:i("remove-ad")}),(0,t.jsx)(N.g,{variant:"tonal",disabled:!a,onClick:d,leftIcon:!a&&(0,t.jsx)(V.D,{isIndeterminate:!0,size:"16px",thickness:"8px",color:"#0055FF"}),children:(0,t.jsx)("span",{children:i(n===o?"word-download":"next")})})]})},VideoPreDownloadByStepsHeader=e=>{let{totalSteps:n,adStep:o}=e,{t:d}=(0,v.qM)();return(0,t.jsx)(C.x,{className:k().headerContainer,"data-testid":"time-remaining",children:"".concat(d("video-ads-modal-by-steps.loading-download")," ").concat(o,"/").concat(n)})},VideoPreDownloadByStepsContent=e=>{var n,o;let{onAdClose:d}=e,i=(null===(o=(0,a.SS)("modal-predownload-by-steps"))||void 0===o?void 0:null===(n=o.value)||void 0===n?void 0:n.steps)||1,[r,u]=(0,l.useState)(1),{videoRef:c,adManager:m,ima:p,adRef:v,adsLoader:w,adsRequest:y,end:h,setEnd:x}=(0,s._)(),{data:f}=(0,T.r)({videoRef:c,adRef:v});p&&w&&w.addEventListener(p.AdErrorEvent.Type.AD_ERROR,e=>{d(!0)});let[g,_]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{h&&i!==r&&_(!0)},[h]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(VideoPreDownloadByStepsHeader,{totalSteps:i,adStep:r}),(0,t.jsx)(VideoPreDownloadByStepsBody,{handleAllowNexStep:_}),(0,t.jsx)(VideoPreDownloadByStepsFooter,{adStep:r,allowNextStep:g,totalSteps:i,onNextStep:()=>{if(x(!1),_(!1),i!==r){u(r+1),getNewVideoAd({adManager:m,adsLoader:w,adsRequest:y,display:null==f?void 0:f.display,ima:p,videoRef:c});return}d(!0)}})]})},B=d.ZP.create(e=>{var n,o;let{document:l}=e,u=(0,d.dd)(),{isMobile:v,isTablet:w}=(0,r.B)(),{setIsClosableByAdEnded:y,setIsClosabledByStepsEnded:h}=useCloseVideoPreDownload({document:l,onClose:u.remove}),x=null===(o=(0,a.SS)("modal-predownload-by-steps"))||void 0===o?void 0:null===(n=o.value)||void 0===n?void 0:n.enabled,handleAdClose=e=>{if(!x){y(!0);return}if(e){h(!0);return}},{data:f,isLoading:g}=(0,i.Nn)();return(0,t.jsxs)(c.u_,{isOpen:u.visible,onClose:u.remove,isCentered:!0,size:v?"full":"2xl",closeOnOverlayClick:!1,"data-testid":"modal-video-pre-download",closeOnEsc:!1,children:[(0,t.jsx)(m.Z,{}),!g&&(0,t.jsx)(s.o,{targetings:f||{},adUnit:v||w?"wuolah.com_84_download_video_mbl_placed_video":"wuolah.com_83_download_video_dsk_placed_video",children:(0,t.jsx)(p.h,{minWidth:v?"100%":"680px",borderRadius:"lg","data-testid":"modal-video-pre-download",children:x?(0,t.jsx)(VideoPreDownloadByStepsContent,{onAdClose:handleAdClose}):(0,t.jsx)(VideoPreDownloadContent,{onAdClose:handleAdClose})})})]})}),useVideoPreDownloadModal=()=>(0,d.dd)(B)},28381:function(e,n,o){"use strict";o.d(n,{j:function(){return downloadFileUrl}});var t=o(12233),d=o.n(t);let downloadFileUrl=async e=>{let{name:n,url:o}=e;return new(d())({url:o,filename:n})}},15757:function(e,n,o){"use strict";o.d(n,{U:function(){return getFileName}});let addMimeTypeExtension=(e,n)=>"".concat(e,".").concat(n),addDownloadType=(e,n)=>n?"wuolah-premium-".concat(e):"wuolah-free-".concat(e),addFolderIndex=(e,n)=>n?"".concat(n,".").concat(e):e,getFileName=e=>{let{folderIndex:n,name:o,premium:t,mimeType:d}=e,a=o;return addFolderIndex(a=addDownloadType(a=a.endsWith(d)?a:addMimeTypeExtension(a,d),t),n)}},10997:function(e){e.exports={headerContainer:"VideoPreDownloadModal_headerContainer__7V1W7"}},40043:function(e){e.exports={headerContainer:"VideoPreDownloadBySteps_headerContainer__j0_0a",bodyContainer:"VideoPreDownloadBySteps_bodyContainer__L2p2L",upgradeTurboContainer:"VideoPreDownloadBySteps_upgradeTurboContainer__AnAnf",upgradeTurboIcon:"VideoPreDownloadBySteps_upgradeTurboIcon__hNzi8",upgradeTurboText:"VideoPreDownloadBySteps_upgradeTurboText__Pj7YL",upgradeTurboLink:"VideoPreDownloadBySteps_upgradeTurboLink___1N8z",videoContainer:"VideoPreDownloadBySteps_videoContainer__598dq",infoContainer:"VideoPreDownloadBySteps_infoContainer__3qHSF",infoIcon:"VideoPreDownloadBySteps_infoIcon__5BVJE",infoText:"VideoPreDownloadBySteps_infoText__GLaiw",footerContainer:"VideoPreDownloadBySteps_footerContainer__1nunW"}}}]);